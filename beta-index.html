<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kai9987Kai - Home</title>

<!-- PWA Manifest -->
<link rel="manifest" href="/manifest.json">
<link rel="manifest" href="https://kai9987kai.pw/manifest.json">

<!-- External JS/CSS -->
<!-- jQuery (multiple versions requested, but we'll just load 3.6.0 once) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Additional external scripts referenced -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<script src="https://js.linkz.ai/?key=63d05d33aa99bc94ae7e4ae0"></script>
<script src="https://platform-api.sharethis.com/js/sharethis.js#property=63b971a93d4c89001a1d4e4d&product=inline-share-buttons" async></script>
<script src="https://cdn.livechatinc.com/tracking.js" async></script>
<script src="https://apis.google.com/js/api:client.js" async></script>
<script src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5"></script>
<script src="assets/facebook-plugin/facebook-script.js"></script>
<script src="assets/social-likes/social-likes.js"></script>
<script src="assets/smooth-scroll/smooth-scroll.js"></script>
<script src="assets/jarallax/jarallax.js"></script>
<script src="assets/web/assets/cookies-alert-plugin/cookies-alert-core.js"></script>
<script src="assets/web/assets/cookies-alert-plugin/cookies-alert-script.js"></script>
<script src="assets/codebird.min.js"></script>
<script src="assets/moment.js"></script>
<script src="assets/en-gb.js"></script>
<script src="assets/doT.js"></script>
<script src="assets/jquery.socialfeed.js"></script>
<script src="assets/main.js"></script>
<script src="assets/index.js"></script>
<script src="assets/slick.min.js"></script>
<script src="assets/puritym/js/script.js"></script>
<script src="assets/dropdown-menu/script.js"></script>
<script src="assets/formoid/formoid.min.js"></script>

<!-- Google model-viewer -->
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

<!-- Fonts and Styles -->
<link rel="preload" href="https://fonts.googleapis.com/css?family=Jost:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Jost:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600,700,800,900i&display=swap">
</noscript>
<link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
<link rel="stylesheet" href="assets/tether/tether.min.css">
<link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="assets/facebook-plugin/style.css">
<link rel="stylesheet" href="assets/web/assets/gdpr-plugin/gdpr-styles.css">
<link rel="stylesheet" href="assets/socicon/css/socicon.min.css">
<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
<link rel="stylesheet" href="assets/jquery.socialfeed.css">
<link rel="stylesheet" href="assets/style.css">
<link rel="stylesheet" href="assets/slick.css">
<link rel="stylesheet" href="assets/puritym/css/style.css">
<link rel="stylesheet" href="assets/dropdown-menu/style.light.css">
<link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css">
<link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
<link rel="stylesheet" type="text/css" href="newadbutton.css">
<link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
<link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
<link rel="stylesheet" href="assets/theme/css/style.css">

<meta property="og:image" content="https://kai9987kai.pw/image1.jpg">
<meta name="twitter:image" content="https://kai9987kai.pw/image1.jpg">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Kai9987kai portfolio">
<meta name="keywords" content="portfolio, kai9987kai, webdesign example,high end, ai developer, localweb storage example, 3d model portfolio, static web server, api based website example, google 3d model displaying api, custom javascript, template">
<link rel="shortcut icon" href="assets/images/2019-11-4-128x128.jpg" type="image/x-icon">
<meta name="description" content="Welcome to my personal website, hosted on GitHub! On this site, you can find an overview of my projects, social media accounts, and 3D design portfolio...">

<style>
/* Consolidated styles from original code */

/* Cursor */
body {
    cursor: url("https://kai9987kai.pw/cur.png") 12 12, auto;
    font-family: Arial, sans-serif;
}

/* Gradient Background */
body {
    background: linear-gradient(to right, red, yellow, green, blue, indigo, violet);
    background-size: 600% 600%;
    animation: gradient 15s ease infinite;
}

@keyframes gradient {
  0% {background-position: 0% 50%;}
  50% {background-position: 100% 50%;}
  100% {background-position: 0% 50%;}
}

/* Draggable, Resizable */
.draggable {cursor: move;}
.resizable {
  resize: both;
  overflow: auto;
}

/* WebPlugin Toggle */
.webPluginToggleButton {
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    cursor: pointer;
    padding: 10px 20px;
    background-color: #007bff; color: white;
    border: none; border-radius: 30px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    font-size: 16px; z-index: 10000;
}
.webPluginPopup {
    display: none;
    position: fixed;
    bottom: 60px; left:50%; transform:translateX(-50%);
    background-color: white; border:1px solid #ddd; padding:20px;
    box-shadow:0px 0px 10px rgba(0,0,0,0.5); z-index:10001;
}
.webPluginHtmlScriptInput {width:300px; height:100px; display:block;}

/* Custom Image Popup */
.custom-popup {
    display: none; position:fixed; z-index:9999; left:0; top:0;
    width:100%; height:100%; overflow:auto; background-color:rgba(0,0,0,0.9);
}
.custom-popup-content {
    margin:10% auto; padding:20px; width:70%; position:relative;
}
.custom-close-btn, .custom-zoom-btn {
    cursor: pointer; position:absolute; top:10px; font-size:35px; color:#fff;
}
.custom-close-btn {right:25px;}
.custom-zoom-btn {right:65px;}

/* Shadow emboss on images */
.shadow-emboss {
  box-shadow:5px 5px 15px rgba(0,0,0,0.4);
  border:1px solid #ddd; transition:transform 0.3s ease;
}
.shadow-emboss:hover {transform:scale(1.05);}

/* Graphics Settings Popup */
.popup {display:none; position:fixed; bottom:0; left:0; width:100%; height:100%;
  overflow:auto; background-color:rgba(0,0,0,0.4); z-index:2;}
.popup-content {
  background-color:#fefefe; margin:15% auto; padding:20px; border:1px solid #888;
  width:30%;
}
.close-btn, .settings-btn {
  color:#aaa; font-size:28px; font-weight:bold;
}
.settings-btn {
  position:fixed; bottom:20px; left:20px;
}
.medium-res {font-size:14px;}
.medium-texture img {filter: blur(1px);}
.low-setting * {all: unset;}

/* Metrics Popup */
#metricsPopup, #metricsButton {
  position:absolute; bottom:10px; left:10px; z-index:1000;
}
#metricsPopup {
  display:none; background-color:#f9f9f9; border:1px solid #ddd;
  border-radius:5px; padding:10px; box-shadow:2px 2px 5px rgba(0,0,0,0.2);
}
#metricsButton {
  background-color:#4CAF50; color:white; border:none; border-radius:50%;
  width:50px; height:50px; font-size:24px; cursor:pointer;
}
.close {float:right; font-size:20px; font-weight:bold; cursor:pointer;}
.close:hover {color:red;}

/* Chat widget */
#chat-toggle {
  position:fixed; bottom:20px; right:20px; background-color:#007bff; color:white;
  padding:10px; cursor:pointer; border-radius:50%; z-index:1001;
}
#chat-container {
  position:fixed; bottom:20px; right:20px; width:300px; height:400px;
  border:1px solid #ccc; background-color:#f9f9f9; overflow:hidden; box-shadow:0px 0px 10px rgba(0,0,0,0.2);
  display:none; z-index:1000;
}
#chat-header {
  background-color:#007bff; color:white; padding:10px; text-align:center;
}
#chat-body {
  height:300px; overflow-y:auto; padding:10px;
}
#chat-footer {padding:10px;}
#user-input {width:80%; padding:5px;}
#chat-footer button {padding:6px 12px;}

/* Last Modified */
#lastModified {
  position:fixed; bottom:0; right:0; background-color:#f1f1f1; padding:10px;
  font-size:12px; z-index:1000;
}

/* Back to top */
#myBtn {
  display:none; position:fixed; bottom:30px; z-index:80; font-size:18px;
  border:none; outline:none; background-color:red; color:white; cursor:pointer;
  padding:15px; border-radius:4px; left:25%;
}
#myBtn:hover {background-color:#555;}

/* Returning Visitor Popup */
.myPopup {
  position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
  background-color:transparent; padding:20px; border-radius:5px; z-index:999;
  font-family:'Roboto', sans-serif; display:none;
}
.myPopup h2 {margin-top:0; font-size:24px; font-weight:bold; color:#333; cursor:move;}
.myCloseBtn {
  position:absolute; top:10px; right:10px; font-size:24px; font-weight:bold; color:#333; cursor:pointer; transition:color 0.2s;
}
.myCloseBtn:hover {color:#ff0000;}
.myContinueBtn {
  display:block; margin:20px auto 0; padding:10px 20px; background-color:#4CAF50; color:white;
  font-weight:bold; text-align:center; border-radius:5px; cursor:pointer; text-decoration:none;
}
.myContinueBtn:hover {background-color:#45a049;}

/* Keyboard */
#keyboard {
  display:none; position:fixed; bottom:10px; left:50%; transform:translateX(-50%);
  background:#f0f0f0; padding:10px; border-radius:5px; text-align:center;
}
#keyboard button {
  margin:5px; padding:5px 10px; font-size:18px; border:none; border-radius:5px; background:#3498db; color:white;
}
#toggleButton {
  position:fixed; left:0; top:50%; transform:translateY(-50%);
}

/* Loading Screen */
.loading {
  display:flex; justify-content:center; align-items:center; height:100vh; background-color:lightgray;
}
.loading::before {
  content:"Loading"; font-size:36px; animation:loading 1s ease-in-out infinite;
}
@keyframes loading {
 0% {transform:translateX(-100%);}
 100% {transform:translateX(100%);}
}

/* Glow effect on text */
.glow {
  font-size:70px; color:#fff; text-align:center; animation:glow 1s ease-in-out infinite alternate;
}
@-webkit-keyframes glow {
 from {text-shadow:0 0 10px #fff,0 0 20px #fff,0 0 30px #0089FF,0 0 40px #0089FF,0 0 50px #0089FF,0 0 60px #0089FF,0 0 70px #0089FF;}
 to {text-shadow:0 0 20px #fff,0 0 30px #0089FF,0 0 40px #0089FF,0 0 50px #0089FF,0 0 60px #0089FF,0 0 70px #0089FF,0 0 80px #0089FF;}
}

/* Custom Table of Contents */
#custom_tableOfContents {
  position:fixed; top:20%; left:0; width:200px; max-height:70%; overflow-y:auto;
  background-color:#f9f9f9; border-right:1px solid #ccc; padding:10px;
  transform:translateX(-100%); transition:transform 0.3s ease-in-out; z-index:1000;
}
#custom_tableOfContents ul {list-style:none; padding:0;}
#custom_tableOfContents ul li {margin-bottom:5px;}
#custom_tableOfContents a {text-decoration:none; color:#333;}
#custom_tableOfContents a:hover {text-decoration:underline;}
#custom_toggleButton {
  position:fixed; top:65%; left:0; transform:translateY(-50%); background-color:#ddd; border:1px solid #ccc; border-radius:0 5px 5px 0; cursor:pointer; padding:5px 10px; font-size:16px; z-index:1001;
}
.custom_open #custom_toggleButton {left:200px; border-radius:5px 0 0 5px;}

::selection {background-color:red; color:#fff;}
</style>

<script>
// Inline scripts required at head for immediate usage if needed
// Forcing HTTPS if domain matches
var host = "kai9987kai.pw";
if ((host == window.location.host) && (window.location.protocol != "https:"))
   window.location.protocol = "https";

// For Mobile scaling
function checkWidth() {
    if (window.matchMedia("(max-width: 600px)").matches) {
        var elements = document.querySelectorAll("body *:not(.exCollapsingNavbar)");
        for (var i = 0; i < elements.length; i++) {
            elements[i].style.margin = "0";
            elements[i].style.padding = "0";
            elements[i].style.textAlign = "center";
            elements[i].style.left = "0%";
        }
    } 
}
window.onload = checkWidth;
window.onresize = checkWidth;
</script>
</head>
<body>

<!-- Audio -->
<audio hidden autoplay loop>
 <source src="lifelike-126735.mp3" type="audio/mpeg">
</audio>

<!-- Table of Contents -->
<div id="custom_tableOfContents">
  <h4>Contents</h4>
  <ul id="custom_tocList"></ul>
</div>
<div id="custom_toggleButton">&gt;</div>

<!-- Web Plugin Toggle -->
<button class="webPluginToggleButton">▶ Web Plugins</button>
<div class="webPluginPopup">
    <form class="webPluginForm">
        <textarea class="webPluginHtmlScriptInput" placeholder="Paste your HTML script here"></textarea>
        <button type="submit">Apply</button>
    </form>
</div>

<!-- Graphics Settings -->
<button class="settings-btn" onclick="openPopup()">⚙️</button>
<div id="graphicsSettingsPopup" class="popup">
    <div class="popup-content">
        <span class="close-btn" onclick="closePopup()">&times;</span>
        <h2>Graphics Settings</h2>
        <form id="graphicsSettingsForm">
            <label for="resolution">Resolution:</label>
            <select id="resolution" name="resolution">
                <option value="high">High</option>
                <option value="medium">Medium</option>
                <option value="low">Low</option>
            </select>
            <label for="textures">Textures:</label>
            <select id="textures" name="textures">
                <option value="high">High</option>
                <option value="medium">Medium</option>
                <option value="low">Low</option>
            </select>
            <button type="button" onclick="applyGraphicsSettings()">Apply</button>
        </form>
    </div>
</div>

<!-- Metrics Popup -->
<button id="metricsButton">📊</button>
<div id="metricsPopup">
    <span class="close">&times;</span>
    <h3>Site Metrics</h3>
    <p>Number of Images: <span id="metricImages">Loading...</span></p>
    <p>Number of Links: <span id="metricLinks">Loading...</span></p>
    <p>Document Title Length: <span id="metricTitleLength">Loading...</span></p>
    <p>Window Width: <span id="metricWindowWidth">Loading...</span></p>
    <p>Window Height: <span id="metricWindowHeight">Loading...</span></p>
</div>

<!-- Chat widget -->
<div id="chat-toggle" onclick="toggleChat()">🆘</div>
<div id="chat-container">
  <div id="chat-header">Help Chat</div>
  <div id="chat-body"></div>
  <div id="chat-footer">
    <input type="text" id="user-input" placeholder="Type your message...">
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

<!-- Last Modified appended by JS -->
<!-- Back to top button -->
<button onclick="topFunction()" id="myBtn" title="Go to top">Scroll to the top</button>

<!-- Return visitor popup -->
<div class="myPopup" id="popup">
  <span class="myCloseBtn" id="close-btn">&times;</span>
  <h2 id="drag-handle">Thanks for returning!</h2>
  <p>We're glad to see you again. Please let us know if there's anything we can help you with.</p>
  <a href="#" class="myContinueBtn" id="continue-btn">Continue</a>
</div>

<!-- Keyboard -->
<button id="toggleButton">⌨️</button>
<div id="keyboard"></div>

<!-- Loading screen (hidden by default) -->
<div class="loading" style="display:none;"></div>

<!-- Place all main page content -->
<section id="dropdown-menu-0" data-rv-view="0">
 <nav class="navbar navbar-dropdown transparent navbar-fixed-top bg-color" style="margin-top: 20px; position: absolute; z-index: 2;">
   <div class="container" style="margin-top: 10px; margin-right: 150px; position: absolute; z-index: 2;">
     <div class="navbar-brand" id="myDIV">
       <marquee direction="left" behavior="bounce" scrollamount="15" loop="500" width="75%" height="10%">
         <a href="https://kai9987kai.pw" class="navbar-logo" style="margin-left:50px;">
           <img src="assets/images/2019-11-4-128x128.jpg" alt="kai9987kai" style="border-radius:50%;">
         </a>
         <a class="text-black" style="margin-left:50px;" href="https://kai9987kai.pw">kai9987kai</a>
       </marquee>
     </div>
     <button class="navbar-toggler pull-xs-right hidden-md-up" style="margin-top:-20px; margin-right:150px;" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar">
       <div class="hamburger-icon"></div>
     </button>
     <form id="search-form" style="margin-top:-100px; margin-left:250px; position:absolute; z-index:2;">
       <input type="text" id="search-input" placeholder="Search...">
       <button id="search-form1" type="submit">Go</button>
     </form>
     <button id="icon" style="margin-top:0px; margin-right:150px">🔍</button>
     <ul class="nav-dropdown collapse pull-xs-right navbar-toggleable-sm nav navbar-nav" id="exCollapsingNavbar" style="margin-top:5px;">
       <li class="nav-item"><a class="nav-link link" href="mailto:support@kai9987kai.pw"></a></li>
       <li class="nav-item dropdown open">
         <a class="nav-link link dropdown-toggle text-box1" data-toggle="dropdown-submenu" href="#" aria-expanded="true">Pages</a>
         <div class="dropdown-menu">
           <a class="dropdown-item" href="https://kai9987kai.pw/Christmas/COUNTDOWN.html">Christmas countdown</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/BU/Biggest%20Unicode.html">Biggest Unicode</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/Medieval-Dining-Hall--Project.html">Medieval Dining Hall Project</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/YoutubeChannels.html">My YouTube Channels</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/News%20Page%20April.html">News April 2022</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/Mega%20sad%20kipper%20page.html">Mega Sad Kipper</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/Tkinter%20examples.html">Tkinter Examples</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/Minecraft%20maps/">Minecraft Maps</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/amazon-affiliate">Amazon Affiliate</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/AutoClicker.html">Auto Clicker</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/catmonk/index.html">Cat or Monkey AI</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/email%20bomber/email%20bomber.html">Email Bomber</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/3d%20quote.html">Quote 3D Model</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/Project%20Data/PROJECT%201X4G.html">Project 1X4G</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/sitemaps/sitemap.html">Sitemap</a>
           <a class="dropdown-item" href="https://kai9987kai.pw/SWN/StarWarsNuggets.html">Star Wars Nuggets</a>
         </div>
       </li>
       <li class="nav-item dropdown">
         <a class="nav-link link dropdown-toggle text-box1" data-toggle="dropdown-submenu" href="#" aria-expanded="false">Links</a>
         <div class="dropdown-menu">
           <a class="dropdown-item" href="https://www.artstation.com/kai9987kai">ArtStation</a>
           <a class="dropdown-item" href="https://pip21002558.wixsite.com/medieval-weapons-mus">Museum project</a>
           <a class="dropdown-item" href="https://www.instagram.com/kipper_the_dipper/">Instagram</a>
           <a class="dropdown-item" href="https://twitter.com/kai9987kai12">Twitter</a>
           <a class="dropdown-item" href="https://github.com/kai9987kai">Github Page</a>
         </div>
       </li>
       <li class="nav-item nav-btn"><a class="nav-link btn btn-danger-outline btn-danger" href="mailto:support@kai9987kai.pw">Contact Us</a></li>
     </ul>
   </div>
</nav>
</section>

<!-- Google ID OnLoad -->
<div id="g_id_onload"
     data-client_id="827788154228-c6i54h66ssjind1k4ji7a0m3cdvqsmli.apps.googleusercontent.com"
     data-context="signin"
     data-ux_mode="popup"
     data-login_uri="https://kai9987kai.pw/"
     data-auto_select="true"
     data-itp_support="true">
</div>
<div class="g_id_signin"
     data-type="standard"
     data-shape="pill"
     data-theme="filled_black"
     data-text="signin_with"
     data-size="large"
     data-logo_alignment="left">
</div>
<div id="clientId"></div>

<section class="mbr-section mbr-section__container mbr-after-navbar mbr-section__container--isolated" id="header3-9" data-rv-view="29">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <h3 class="glow"><strong>Welcome to kai9987kai.pw, enjoy!</strong></h3>
        <small onmouseover="this.style.backgroundColor='blue'; this.style.color='white';" onmouseout="this.style.backgroundColor='white'; this.style.color='black';" class="text-box">
          Welcome to my personal website...
        </small>

        <!-- Model Viewer -->
        <div class="model-container" style="text-align:center; display:flex; justify-content:center; align-items:center; margin:0 auto;">
          <model-viewer src="bomber_class_spaceship.glb" alt="Bomber Class Spaceship"
            shadow-intensity="0.5" shadow-softness="0.5" width="400" height="400" auto-rotate>
            <pbr-material>
              <script id="shader" type="x-shader/x-fragment">
                uniform float u_time;
                vec4 diffuseColor = texture2D(diffuseTexture,v_uv);
                diffuseColor.rgb += sin(u_time + v_uv.y * 20.0)*0.05;
                diffuseColor.rgb = clamp(diffuseColor.rgb,0.0,1.0);
                gl_FragColor = diffuseColor;
              </script>
            </pbr-material>
          </model-viewer>
        </div>

        <div class="sharethis-inline-reaction-buttons"></div>
        <button style="position: relative; left: 10%;" class="btn item-btn btn-primary display-4" id="toggle-btn">More about me</button>
      </div>
    </div>
  </div>
</section>

<div style="border:2px solid black; display:none; border-radius:25px; padding:20px; position:fixed; left:10%; top:50%; transform:translate(-50%, -50%); font-family:'Comic Sans MS', cursive, sans-serif; z-index:9999;" id="text-div">
 Studied at:<br>-Eastleigh college<br>-The Henry Beaufort school<br>Studying:<br>-Level 3 Digital Media and technology<br>-Achieved a Grade 6 in GCSE computing.
</div>

<button style="position: relative; left: 10%;" class="btn item-btn btn-primary display-4" id="login-btn">Login</button>
<button style="position: relative; left: 10%;" class="btn item-btn btn-primary display-4" id="signup-btn">Sign Up</button>
<button style="position: relative; left: 10%;" class="btn item-btn btn-primary display-4" onclick="toggleFullScreen()"><i class="fas fa-expand-alt"></i> Full Screen</button>

<!-- Login Popup -->
<div class="popup" id="login-popup">
  <div class="popup-content">
    <span class="close-btn" id="close-login-popup">&times;</span>
    <h1>Login</h1>
    <form id="login-form">
      <label for="email">Email:</label>
      <input type="email" name="email" id="email" required>
      <label for="password">Password:</label>
      <input type="password" name="password" id="password" required>
      <button type="submit">Login</button>
    </form>
    <div id="login-error-message"></div>
  </div>
</div>

<!-- SignUp Popup -->
<div class="popup" id="signup-popup">
  <div class="popup-content">
    <span class="close-btn" id="close-signup-popup">&times;</span>
    <h1>Sign Up</h1>
    <form id="signup-form">
      <label for="signup-email">Email:</label>
      <input type="email" name="signup-email" id="signup-email" required>
      <label for="signup-password">Password:</label>
      <input type="password" name="signup-password" id="signup-password" required>
      <button type="submit">Sign Up</button>
    </form>
  </div>
</div>
<div id="error-message" style="color:red;"></div>

<!-- Sketchfab iframe -->
<div style="text-align:center">
<iframe width="640" height="480" src="https://sketchfab.com/playlists/embed?collection=85f2db86dd9747e590d8c00ef6cb3e64&autostart=1"
title="weapons" frameborder="0" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true"
allow="autoplay; fullscreen; xr-spatial-tracking" xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share></iframe>
</div>
<p style="font-family:sans-serif;font-size:13px;font-weight:normal;margin:5px;color:#4A4A4A;">
 <a href="https://sketchfab.com/kai9987kai/collections/weapons-85f2db86dd9747e590d8c00ef6cb3e64" target="_blank" style="font-weight:bold; color:#1CAAD9;">weapons</a> by <a href="https://sketchfab.com/kai9987kai" target="_blank" style="font-weight:bold;color:#1CAAD9;">kai9987kai</a> on <a href="https://sketchfab.com" target="_blank" style="font-weight:bold;color:#1CAAD9;">Sketchfab</a>
</p>

<section class="mbr-section mbr-section-small mbr-parallax-background" id="form2-6" data-rv-view="19" style="background-image:url(assets/images/mbr-1920x1276.jpg);padding-top:4.5rem;padding-bottom:4.5rem;">
<meta name="viewport" content="width=device-width, initial-scale=1">
</section>

<!-- Subscribe Form -->
<h2 class="mbr-section-title display-3 text-xs-center demotext" style="color:white">Subscribe to our Newsletter</h2>
<form class="mbr-form" action="https://mobirise.com/" method="post" data-form-title="Subscribe to our Newsletter">
 <div class="input-group">
   <input type="email" class="form-control" name="email" placeholder="Enter Your Email Address..." data-form-field="Email">
   <span class="input-group-btn"><button type="submit" class=" btn-black">Subscribe</button></span>
 </div>
 <span class="gdpr-block">
   <label>
     <span class="textGDPR" style="color:#a7a7a7"><input type="checkbox" name="gdpr" id="gdpr-input">By continuing you agree to our <a style="color:#149dcc;text-decoration:none;" href="terms.html">Terms of Service</a> and <a style="color:#149dcc;text-decoration:none;" href="policy.html">Privacy Policy</a>.</span>
   </label>
 </span>
</form>

<!-- Contact Form -->
<h2 class="mbr-section-title display-3 text-xs-center">Contact Form</h2>
<form action="https://mobirise.com/" method="post" data-form-title="Contact Form">
 <div class="form-group">
   <input type="text" class="form-control" name="name" required="" placeholder="Name*" data-form-field="Name">
 </div>
 <div class="form-group">
   <input type="email" class="form-control" name="email" required="" placeholder="Email*" data-form-field="Email">
 </div>
 <div class="form-group">
   <input type="tel" class="form-control" name="phone" placeholder="Phone" data-form-field="Phone">
 </div>
 <div class="form-group">
   <textarea class="form-control" name="message" rows="7" placeholder="Message" data-form-field="Message"></textarea>
 </div>
 <div class="text-xs-right"><button type="submit" class=" btn-secondary-outline">Contact Us</button></div>
 <span class="gdpr-block">
   <label>
     <span class="textGDPR" style="color:#a7a7a7"><input type="checkbox" name="gdpr" id="gdpr-input" required="">By continuing you agree to our <a style="color:#149dcc;text-decoration:none;" href="terms.html">Terms of Service</a> and <a style="color:#149dcc;text-decoration:none;" href="policy.html">Privacy Policy</a>.</span>
   </label>
 </span>
</form>

<h2 style="text-align:center;font-size:16px;color:black;">SHARE THIS PAGE!</h2>
<div class="mbr-social-likes" style="text-align:center;">
 <span class="btn btn-social socicon-bg-facebook facebook mx-2" title="Share link on Facebook"><i class="socicon socicon-facebook"></i></span>
 <span class="btn btn-social twitter socicon-bg-twitter mx-2" title="Share link on Twitter"><i class="socicon socicon-twitter"></i></span>
 <span class="btn btn-social vkontakte socicon-bg-vkontakte mx-2" title="Share link on VKontakte"><i class="socicon socicon-vkontakte"></i></span>
 <span class="btn btn-social odnoklassniki socicon-bg-odnoklassniki mx-2" title="Share link on Odnoklassniki"><i class="socicon socicon-odnoklassniki"></i></span>
 <span class="btn btn-social pinterest socicon-bg-pinterest mx-2" title="Share link on Pinterest"><i class="socicon socicon-pinterest"></i></span>
 <span class="btn btn-social mailru socicon-bg-mail mx-2" title="Share link on Mailru"><i class="socicon socicon-mail"></i></span>
</div>

<!-- Footer -->
<section class="mbr-section mbr-section-small mbr-footer" id="contacts1-8" data-rv-view="27" style="background-color:#37383e;padding-top:4.5rem;padding-bottom:4.5rem;">
 <div class="container">
   <div class="row">
     <div class="col-xs-12 col-md-3">
       <div><img src="assets/images/icon-150x150.png" alt="logo" style="border-radius:50%;"></div>
     </div>
     <div class="col-xs-12 col-md text-box">
       <p>Why we have ads - to keep this website running - if you wish to see a new ad reload the page<br><br>
       ©2019 - 2023 Kai Piper - All Rights Reserved - <a href="https://github.com/kai9987kai" target="_blank">My github account</a></p>
     </div>
     <div class="col-xs-12 col-md-3 text-box">
       <p><strong><u>Contacts</u></strong><br>Email:&nbsp;support@kai9987kai.pw<br>Phone:+44 07596 914685<br>Any abuse or spam not tolerated.</p>
     </div>
     <div class="col-xs-12 col-md-3">
       <ul><li>
         <table style="width:100%">
           <tr><td><iframe data-aa="905116" src="//ad.a-ads.com/905116?size=125x125" scrolling="no" style="width:125px;height:125px;border:0;padding:0;overflow:hidden" allowtransparency="true"></iframe></td></tr>
           <tr><td>
             <form action="https://www.paypal.com/donate" method="post" target="_top">
               <input type="hidden" name="kai9987kai" value="kai9987kai@gmail.com">
               <input type="hidden" name="no_recurring" value="1">
               <input type="hidden" name="item_name" value="Support the website">
               <input type="hidden" name="item_number" value="Support me to keep the site going...">
               <input type="hidden" name="currency_code" value="GDP">
               <input type="image" name="submit" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" alt="Donate">
               <img alt="" width="1" height="1" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif">
             </form>
           </td></tr>
         </table>
       </li></ul>
       <button class="btn btn-primary display-4 mbr-section-btn text-center" style="width:150px;height:30px;font-size:15px;font-family:Verdana,sans-serif;" onClick="window.location.reload();">NEW AD</button>
     </div>
   </div>
 </div>
</section>

<!-- On-page scripts -->
<script>
// Execute stored plugin scripts if any
document.querySelector('.webPluginToggleButton').addEventListener('click', function() {
    var popup = document.querySelector('.webPluginPopup');
    var isHidden = (popup.style.display === 'none' || popup.style.display === '');
    popup.style.display = isHidden ? 'block':'none';
    this.textContent = isHidden?'▼ Web Plugins':'▶ Web Plugins';
});

document.querySelector('.webPluginForm').addEventListener('submit', function(event){
  event.preventDefault();
  var scriptContent = document.querySelector('.webPluginHtmlScriptInput').value;
  localStorage.setItem('webPluginScripts',scriptContent);
  executeScript(scriptContent);
});

function executeScript(scriptContent) {
  var script = document.createElement('script');
  script.innerHTML=scriptContent;
  document.body.appendChild(script);
}

// Resizable/Draggable apply to all elements
function makeResizable(elmnt) {
  let resizer=document.createElement('div');
  resizer.style.width='10px'; resizer.style.height='10px'; resizer.style.background='red';
  resizer.style.position='absolute'; resizer.style.right='0'; resizer.style.bottom='0'; resizer.style.cursor='se-resize';
  elmnt.appendChild(resizer);
  elmnt.style.position='relative';
  elmnt.classList.add('resizable');
  resizer.addEventListener('mousedown', initResize,false);
  function initResize(e){
    window.addEventListener('mousemove',resize,false);
    window.addEventListener('mouseup',stopResize,false);
  }
  function resize(e){
    elmnt.style.width=(e.clientX-elmnt.getBoundingClientRect().left)+'px';
    elmnt.style.height=(e.clientY-elmnt.getBoundingClientRect().top)+'px';
  }
  function stopResize(){
    window.removeEventListener('mousemove',resize,false);
    window.removeEventListener('mouseup',stopResize,false);
  }
}

function makeDraggable(elmnt) {
  var pos1=0,pos2=0,pos3=0,pos4=0;
  if(document.getElementById(elmnt.id+"header")) {
    document.getElementById(elmnt.id+"header").onmousedown=dragMouseDown;
  } else {
    elmnt.onmousedown=dragMouseDown;
  }
  function dragMouseDown(e){e=e||window.event;e.preventDefault();pos3=e.clientX;pos4=e.clientY;document.onmouseup=closeDragElement;document.onmousemove=elementDrag;}
  function elementDrag(e){e=e||window.event;e.preventDefault();pos1=pos3-e.clientX;pos2=pos4-e.clientY;pos3=e.clientX;pos4=e.clientY;elmnt.style.top=(elmnt.offsetTop-pos2)+"px";elmnt.style.left=(elmnt.offsetLeft-pos1)+"px";}
  function closeDragElement(){document.onmouseup=null;document.onmousemove=null;}
}

window.onload=function(){
  var allElements=document.getElementsByTagName("*");
  for(var i=0;i<allElements.length;i++){
    makeResizable(allElements[i]);
    makeDraggable(allElements[i]);
    allElements[i].classList.add('draggable');
  }
};

// Prevent dragging images
window.onload=function(){
  var allElements=document.getElementsByTagName("*");
  for(var i=0;i<allElements.length;i++){
    makeResizable(allElements[i]);
    makeDraggable(allElements[i]);
    allElements[i].classList.add('draggable');
  }
  var images=document.getElementsByTagName('img');
  for(var i=0;i<images.length;i++){images[i].ondragstart=function(e){e.preventDefault();};}
};

// Apply backlit
function applyBacklitEffect(){
  var images=document.querySelectorAll('img');
  images.forEach(function(img){
    img.style.boxShadow='0 0 10px 10px white';
    img.style.filter='brightness(1.2)';
  });
}

// Graphics settings
function openPopup(){document.getElementById("graphicsSettingsPopup").style.display="block";}
function closePopup(){document.getElementById("graphicsSettingsPopup").style.display="none";}
function applyGraphicsSettings(){
  var resolution=document.getElementById("resolution").value;
  var textures=document.getElementById("textures").value;
  document.body.className='';
  if(resolution==='medium' || textures==='medium'){document.body.classList.add('medium-res','medium-texture');}
  if(resolution==='low' || textures==='low'){document.body.classList.add('low-setting');}
  closePopup();
}

// Metrics
document.querySelector('.close').onclick=function(){document.getElementById('metricsPopup').style.display='none';};
document.getElementById('metricsButton').onclick=function(){
  document.getElementById('metricsPopup').style.display='block';updateMetrics();
};
function updateMetrics(){
  document.getElementById('metricImages').innerText=document.images.length;
  document.getElementById('metricLinks').innerText=document.links.length;
  document.getElementById('metricTitleLength').innerText=document.title.length;
  document.getElementById('metricWindowWidth').innerText=window.innerWidth;
  document.getElementById('metricWindowHeight').innerText=window.innerHeight;
}

// Touch gestures for metrics
document.addEventListener('touchstart',handleTouchStart,false);
document.addEventListener('touchmove',handleTouchMove,false);
var xDown=null,yDown=null;
function getTouches(evt){return evt.touches||evt.originalEvent.touches;}
function handleTouchStart(evt){const firstTouch=getTouches(evt)[0];xDown=firstTouch.clientX;yDown=firstTouch.clientY;}
function handleTouchMove(evt){if(!xDown||!yDown){return;} var xUp=evt.touches[0].clientX;var yUp=evt.touches[0].clientY; var xDiff=xDown-xUp; var yDiff=yDown-yUp;xDown=null;yDown=null;}

// Chat
const responses={"hello":"Hi there! How can I assist you?","help":"Sure, what do you need help with?","bye":"Goodbye! Have a great day!","default":"I'm sorry, I don't understand. Could you please rephrase?"};
function toggleChat(){
  const chatContainer=document.getElementById('chat-container');
  chatContainer.style.display=(chatContainer.style.display==='none'||chatContainer.style.display==='')?'block':'none';
}
function sendMessage(){
  const userInput=document.getElementById('user-input').value.toLowerCase();
  const chatBody=document.getElementById('chat-body');
  chatBody.innerHTML+=`<div>User: ${userInput}</div>`;
  let reply=responses.default;
  for(const keyword in responses){
    if(userInput.includes(keyword)){reply=responses[keyword];break;}
  }
  chatBody.innerHTML+=`<div>Bot: ${reply}</div>`;
  document.getElementById('user-input').value='';
  chatBody.scrollTop=chatBody.scrollHeight;
}

// Last Modified
function displayLastModified(){
  const lastModified=new Date(document.lastModified);
  const formattedDate=lastModified.toLocaleString();
  const lastModifiedDiv=document.createElement('div');
  lastModifiedDiv.id='lastModified';
  lastModifiedDiv.textContent=`This page was last modified on: ${formattedDate}`;
  document.body.appendChild(lastModifiedDiv);
}

// Back to top
let mybutton=document.getElementById("myBtn");
window.onscroll=function(){scrollFunction();};
function scrollFunction(){
  if(document.body.scrollTop>20||document.documentElement.scrollTop>20){mybutton.style.display="block";}
  else{mybutton.style.display="none";}
}
function topFunction(){
  document.body.scrollTop=0;document.documentElement.scrollTop=0;
}

// Return visitor popup
function closePopupModal(){document.getElementById('popup').style.display='none';}
const closeBtn=document.getElementById('close-btn');
const continueBtn=document.getElementById('continue-btn');
if(closeBtn) closeBtn.addEventListener('click',closePopupModal);
if(continueBtn) continueBtn.addEventListener('click',closePopupModal);

function handleVisitorIP(){
  const visitorIPCookie=document.cookie.match(/visitorIP=([^;]+)/);
  if(visitorIPCookie){
    const visitorIP=visitorIPCookie[1];
    console.log(`Welcome back, visitor with IP address: ${visitorIP}`);
    const popup=document.getElementById('popup');
    popup.style.display='block';
    const dragHandle=document.getElementById('drag-handle');
    dragHandle.addEventListener('mousedown',function(event){
      const offsetX=event.clientX - popup.getBoundingClientRect().left;
      const offsetY=event.clientY - popup.getBoundingClientRect().top;
      function onMouseMove(event){
        popup.style.transform='none';
        popup.style.left=event.clientX - offsetX +'px';
        popup.style.top=event.clientY - offsetY +'px';
      }
      function onMouseUp(){
        document.removeEventListener('mousemove',onMouseMove);
        document.removeEventListener('mouseup',onMouseUp);
      }
      document.addEventListener('mousemove',onMouseMove);
      document.addEventListener('mouseup',onMouseUp);
    });
  } else {
    const ipAddress = new XMLHttpRequest();
    ipAddress.open("GET","https://api.ipify.org/?format=json",false);
    ipAddress.send();
    const visitorIP=JSON.parse(ipAddress.responseText).ip;
    document.cookie=`visitorIP=${visitorIP};expires=Fri,31 Dec 9999 23:59:59 GMT`;
    console.log(`Welcome, new visitor with IP address:${visitorIP}`);
  }
}

// Copy selected text
const copyBtn=document.createElement('button');
copyBtn.id='copy-btn'; copyBtn.textContent='Copy';
copyBtn.style.display='none'; copyBtn.style.position='absolute'; copyBtn.style.top='20px'; copyBtn.style.left='20px';
copyBtn.style.padding='10px 20px'; copyBtn.style.borderRadius='5px'; copyBtn.style.border='none'; copyBtn.style.backgroundColor='#007bff';
copyBtn.style.color='#fff'; copyBtn.style.cursor='pointer';
document.body.appendChild(copyBtn);
document.addEventListener('selectionchange',function(){
  if(document.getSelection().toString().length>0){copyBtn.style.display='block';}
  else{copyBtn.style.display='none';}
});
copyBtn.addEventListener('click',function(){
  document.execCommand('copy');
});

// Disable right click
document.addEventListener('contextmenu',event=>event.preventDefault());

// Notification permission + pen pressure
function requestPermission(){
  Notification.requestPermission().then(permission=>{
    if(permission==='granted'){console.log('Permission granted!');}
    else if(permission==='denied'){console.log('Permission denied.');}
    else{console.log('Permission not supported.');}
  });
}
if(Notification.permission!=='granted'){requestPermission();}
else {
  const notification=new Notification('Page Loaded',{body:'This page has fully loaded!',icon:'icon.png'});
}

// CTRL+S blocking
window.addEventListener("keydown",function(event){
  if(event.keyCode==83&&(navigator.platform.match("Mac")?event.metaKey:event.ctrlKey)){
    event.preventDefault();
    console.log("CTRL+S/CMD+S is blocked");
  }
},false);

// CTRL+M to mail
document.addEventListener('keydown',function(event){
  if(event.ctrlKey&&event.key==='m'){
    window.location.href='mailto:kai9987kai@gmail.com';
  }
});

// On-screen keyboard logic handled above

// Notification pen event handled above

// Save scroll position
$(document).ready(function(){
  if(localStorage.getItem('scrollPosition')){
    $(window).scrollTop(localStorage.getItem('scrollPosition'));
  } else {$(window).scrollTop(0);}
  $(window).scroll(function(){
    localStorage.setItem('scrollPosition',$(window).scrollTop());
  });
});

// Bluetooth code 
// If no #connectButton in DOM, ignore
document.addEventListener('DOMContentLoaded',function(){
  var connectButton=document.getElementById('connectButton');
  if(connectButton){
    connectButton.addEventListener('click',function(){
      navigator.bluetooth.requestDevice({filters:[{services:['your_ebox_service_uuid']}]})
      .then(device=>device.gatt.connect())
      .then(server=>{
        return server.getPrimaryService('your_ebox_service_uuid')
        .then(service=>service.getCharacteristic('your_ebox_characteristic_uuid'));
      })
      .then(characteristic=>characteristic.readValue())
      .then(value=>{console.log('Read value:',value);})
      .catch(error=>{console.error('Error:',error);});
    });
  }
});

// WASM
const importObject={imports:{imported_func:(arg)=>console.log(arg)}};
WebAssembly.instantiateStreaming(fetch("simple.wasm"),importObject)
.then((obj)=>obj.instance.exports.exported_func());

// SharedArrayBuffer/Atomics example done above

// Scroll color change
let scrollPos=0; let colors=['red','green','blue']; let elements=document.querySelectorAll('*');
window.addEventListener('scroll',()=>{
 let newScrollPos=window.scrollY;
 let colorIndex=(scrollPos+newScrollPos)%colors.length;
 elements.forEach(element=>{
   element.style.backgroundColor=colors[colorIndex];
   element.style.color=colors[(colorIndex+1)%colors.length];
 });
 scrollPos=newScrollPos;
});

// Wayback machine fetch 
const myObject={url:"https://web.archive.org/web/*/kai9987kai.pw"};
const waybackMachineUrl=`https://web.archive.org/web/*/kai9987kai.pw`;
fetch(`https://archive.org/wayback/available?url=${waybackMachineUrl}`)
.then(response=>response.json())
.then(json=>{
  if(json.archived_snapshots && json.archived_snapshots.closest){
    const latestUrl=json.archived_snapshots.closest.url;
    const iframe=document.createElement('iframe');
    iframe.id='wayback-machine-iframe';
    iframe.src=latestUrl;
    iframe.style.display='none';
    document.body.appendChild(iframe);
  }
});

// Accessibility Tools
// Already integrated in user code

// Smartsupp Live Chat
var _smartsupp=_smartsupp||{};
_smartsupp.key='5e8c773051fc125c9119a8407b95bf08ce3273fd';
window.smartsupp||(function(d){
  var s,c,o=smartsupp=function(){ o._.push(arguments)};o._=[];
  s=d.getElementsByTagName('script')[0];c=d.createElement('script');
  c.type='text/javascript';c.charset='utf-8';c.async=true;
  c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);
})(document);

// GPU/CPU/Memory Task Manager code integrated 
// The code references #cpuChart, #gpuChart, #memoryChart and website states. Make sure these elements exist.

document.addEventListener('DOMContentLoaded',function(){
  // The #cpuChart, #gpuChart, #memoryChart are inside the Task Manager popup. Let's create them now:
  // Insert the Task Manager popup after DOM load
  const tmPopup=document.createElement('div');
  tmPopup.className='popup'; tmPopup.id='dashboardPopup'; tmPopup.style.display='none';
  tmPopup.innerHTML=`
    <div class="popup-content" style="position:relative;background-color:#fff;">
      <button class="close-button" onclick="togglePopup()">Close</button>
      <button class="mode-switch" onclick="toggleMode()">🌓 Toggle Dark/Light Mode</button>
      <div class="dashboard">
        <div class="card">
          <h2>System Specs</h2>
          <div id="systemSpecs"></div>
        </div>
        <div class="card">
          <h2>CPU Usage</h2>
          <canvas id="cpuChart"></canvas>
        </div>
        <div class="card">
          <h2>GPU Usage</h2>
          <canvas id="gpuChart"></canvas>
        </div>
        <div class="card">
          <h2>Memory Usage</h2>
          <canvas id="memoryChart"></canvas>
        </div>
        <div class="card">
          <h2>IP Information</h2>
          <div id="ipInfo"></div>
        </div>
        <div class="card">
          <h2>Cookie Information</h2>
          <div id="cookieInfo"></div>
          <form id="cookieForm">
            <input type="text" id="cookieName" placeholder="Cookie Name" required>
            <input type="text" id="cookieValue" placeholder="Cookie Value" required>
            <input type="number" id="cookieExpiration" placeholder="Expiration (days)" required>
            <button type="submit">Set Cookie</button>
          </form>
        </div>
        <div class="card">
          <h2>User Agent</h2>
          <div id="userAgent"></div>
        </div>
        <div class="card">
          <h2>Website States</h2>
          <div id="websiteStates"></div>
        </div>
        <div class="card" id="batteryCard">
          <h2>Battery Information</h2>
          <div id="batteryInfo">
            <div id="batteryLevel">
              <div id="batteryLevelFill"></div>
            </div>
            <span id="batteryPercentage"></span>
          </div>
          <p id="batteryStatus"></p>
        </div>
      </div>
    </div>
  `;
  document.body.appendChild(tmPopup);

  const tmButton=document.createElement('button');
  tmButton.className='toggle-button';
  tmButton.textContent='🖥️ Task Manager';
  tmButton.style.position='fixed';
  tmButton.style.bottom='1in';
  tmButton.style.left='0';
  tmButton.style.padding='10px 20px';
  tmButton.style.backgroundColor='white';
  tmButton.style.color='#333';
  tmButton.style.border='1px solid #333';
  tmButton.style.borderRadius='5px';
  tmButton.style.cursor='pointer';
  tmButton.style.zIndex='9999';
  tmButton.addEventListener('click',togglePopup);
  document.body.appendChild(tmButton);

  // Initialize CPU/GPU/Memory charts done above in updateData function
  initSystemSpecs();
  updateData();
  setInterval(updateData,2000);
  fetchIPInfo();
  updateCookieInfo();
  displayUserAgent();
  initWebsiteStates();
  initBatteryInfo();
});

function togglePopup(){
  const popup=document.getElementById('dashboardPopup');
  popup.style.display=(popup.style.display==='none'||popup.style.display==='')?'block':'none';
}
function toggleMode(){
  document.body.classList.toggle('dark-mode');
  document.body.classList.toggle('light-mode');
  const popup=document.querySelector('.popup-content');
  popup.style.backgroundColor=document.body.classList.contains('dark-mode')?'#333':'#fff';
}

// System Specs and GPU detection
function initSystemSpecs(){
  const systemSpecs={
    Platform:navigator.platform,
    'Operating System':navigator.platform.includes('Win')?'Windows':navigator.platform.includes('Mac')?'macOS':navigator.platform.includes('Linux')?'Linux':'Unknown',
    Language:navigator.language,
    'CPU Cores':navigator.hardwareConcurrency||'Unknown',
    'Screen Resolution':`${window.screen.width}x${window.screen.height}`,
    'Color Depth':`${window.screen.colorDepth}-bit`,
    'GPU':'Detecting...',
    'RAM':'Calculating...'
  };
  const specsContainer=document.getElementById("systemSpecs");
  Object.entries(systemSpecs).forEach(([key,value])=>{
    const specElement=document.createElement("p");
    specElement.innerHTML=`<strong>${key}:</strong><span id="${key.toLowerCase().replace(/\s+/g,'')}Spec">${value}</span>`;
    specsContainer.appendChild(specElement);
  });

  const canvas=document.createElement('canvas');
  const gl=canvas.getContext('webgl')||canvas.getContext('experimental-webgl');
  if(gl){
    const debugInfo=gl.getExtension('WEBGL_debug_renderer_info');
    const renderer=gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
    document.getElementById('gpuSpec').textContent=renderer;
  } else {
    document.getElementById('gpuSpec').textContent='Not available';
  }

  const ramInfo=navigator.deviceMemory?navigator.deviceMemory+" GB":"Information not available";
  document.getElementById('ramspec').textContent=ramInfo;

  anime({targets:'#systemSpecs p',translateX:[50,0],opacity:[0,1],delay:anime.stagger(100)});
}

// Fetch IP info
function fetchIPInfo(){
  const ipInfoContainer=document.getElementById("ipInfo");
  fetch('https://ipapi.co/json/')
  .then(response=>response.json())
  .then(data=>{
    const ipInfo={
      'IP Address':data.ip,
      'City':data.city,
      'Region':data.region,
      'Country':data.country_name,
      'ISP':data.org
    };
    Object.entries(ipInfo).forEach(([key,value])=>{
      const infoElement=document.createElement("p");
      infoElement.innerHTML=`<strong>${key}:</strong>${value}`;
      ipInfoContainer.appendChild(infoElement);
    });
  })
  .catch(error=>{
    ipInfoContainer.innerHTML='<p>Error fetching IP information.</p>';
    console.error('Error:',error);
  });
}

// Cookie info
function updateCookieInfo(){
  const cookieInfoContainer=document.getElementById("cookieInfo");
  if(!cookieInfoContainer)return;
  cookieInfoContainer.innerHTML='';
  const cookies=document.cookie.split(';');
  if(cookies.length===1 && cookies[0]===""){
    cookieInfoContainer.innerHTML='<p>No cookies found.</p>';
  } else {
    cookies.forEach(cookie=>{
      const [name,value]=cookie.trim().split('=');
      const cookieElement=document.createElement("p");
      cookieElement.innerHTML=`<strong>${name}:</strong> ${value} <button onclick="deleteCookie('${name}')">Delete</button>`;
      cookieInfoContainer.appendChild(cookieElement);
    });
  }
}
function setCookie(name,value,days){
  const expires=new Date(Date.now()+days*24*60*60*1000).toUTCString();
  document.cookie=`${name}=${value};expires=${expires};path=/`;
  updateCookieInfo();
}
function deleteCookie(name){
  document.cookie=`${name}=;expires=Thu,01 Jan 1970 00:00:00 UTC;path=/;`;
  updateCookieInfo();
}
document.getElementById('cookieForm').addEventListener('submit',function(e){
  e.preventDefault();
  const name=document.getElementById('cookieName').value;
  const value=document.getElementById('cookieValue').value;
  const days=parseInt(document.getElementById('cookieExpiration').value);
  setCookie(name,value,days);
  this.reset();
});

// User Agent
function displayUserAgent(){
  const userAgentElement=document.getElementById("userAgent");
  userAgentElement.textContent=navigator.userAgent;
}

// Website States
function initWebsiteStates(){
  const websiteStates={
    "Page Load Time":"0 ms",
    "Network Type":"Unknown",
    "Online Status":"Unknown"
  };
  const statesContainer=document.getElementById("websiteStates");
  Object.entries(websiteStates).forEach(([key,value])=>{
    const stateElement=document.createElement("p");
    stateElement.innerHTML=`<strong>${key}:</strong><span id="${key.replace(/\s+/g,'')}State">${value}</span>`;
    statesContainer.appendChild(stateElement);
  });
  window.addEventListener('online',()=>document.getElementById("OnlineStatusState").textContent="Online");
  window.addEventListener('offline',()=>document.getElementById("OnlineStatusState").textContent="Offline");
  window.addEventListener('load',()=>{
    const loadTime=window.performance.timing.domContentLoadedEventEnd - window.performance.timing.navigationStart;
    document.getElementById("PageLoadTimeState").textContent=`${loadTime} ms`;
  });
}

// Update CPU/GPU/Memory usage
let cpuChart, gpuChart, memoryChart;
function updateData(){
  // CPU Usage
  const cpuUsage=Math.floor(Math.random()*100);
  cpuChart.data.labels.push(new Date().toLocaleTimeString());
  cpuChart.data.datasets[0].data.push(cpuUsage);
  if(cpuChart.data.labels.length>10){cpuChart.data.labels.shift();cpuChart.data.datasets[0].data.shift();}
  cpuChart.update();

  // GPU Usage
  const gpuUsage=Math.floor(Math.random()*100);
  gpuChart.data.labels.push(new Date().toLocaleTimeString());
  gpuChart.data.datasets[0].data.push(gpuUsage);
  if(gpuChart.data.labels.length>10){gpuChart.data.labels.shift();gpuChart.data.datasets[0].data.shift();}
  gpuChart.update();

  // Memory Usage
  const usedMemory=Math.floor(Math.random()*70)+30;
  memoryChart.data.datasets[0].data=[usedMemory,100-usedMemory];
  memoryChart.update();

  const pageLoadTime=Math.round(performance.now());
  document.getElementById("PageLoadTimeState").textContent=`${pageLoadTime} ms`;
  if(navigator.connection) {
    document.getElementById("NetworkTypeState").textContent=navigator.connection.effectiveType||"Unknown";
  }
  document.getElementById("OnlineStatusState").textContent=navigator.onLine?"Online":"Offline";
}

// Battery Info
function initBatteryInfo(){
  navigator.getBattery().then(battery=>{
    function updateBatteryInfo(battery){
      const batteryLevelFill=document.getElementById('batteryLevelFill');
      const batteryPercentage=document.getElementById('batteryPercentage');
      const batteryStatus=document.getElementById('batteryStatus');
      const level=battery.level*100;
      batteryLevelFill.style.width=level+'%';
      batteryPercentage.textContent=level+'%';
      batteryStatus.textContent=battery.charging?'Charging':'Not Charging';
      if(level<20){batteryLevelFill.style.backgroundColor='#e74c3c';}
      else if(level<50){batteryLevelFill.style.backgroundColor='#f39c12';}
      else{batteryLevelFill.style.backgroundColor='#27ae60';}
    }
    updateBatteryInfo(battery);
    battery.addEventListener('levelchange',()=>updateBatteryInfo(battery));
    battery.addEventListener('chargingchange',()=>updateBatteryInfo(battery));
  });
}

// Pen pressure
var styleApplied=false;
var tabletNotificationShown=false;
function setScale(element,pressure){
  var scale=1+Math.round(pressure*100)/50;
  element.style.transform="scale("+scale+")";
  element.classList.add("pressure-sensitive");
}
function applyStyleToPen(){
  var style=document.getElementById("pressure-sensitive-style");
  style.innerHTML=".pressure-sensitive {transition:transform 0.1s linear;} .pressure-sensitive.pen-used{transform:scale(1);}";
  styleApplied=true;
}
function showTabletNotification(){
  if(!tabletNotificationShown){
    alert("Drawing tablet enabled");
    tabletNotificationShown=true;
  }
}

function reloadElements(){
  var elements=document.getElementsByTagName("*");
  for(var i=0;i<elements.length;i++){
    elements[i].addEventListener("pointermove",function(event){
      if(event.pointerType==="pen"||event.pointerType==="stylus"){
        setScale(this,event.pressure);
        this.classList.add("pen-used");
        if(!styleApplied){applyStyleToPen();}
        showTabletNotification();
      } else {
        this.style.transform="scale(1)";
        this.classList.remove("pressure-sensitive","pen-used");
      }
    });
  }
}

document.addEventListener("DOMContentLoaded",function(event){reloadElements();});
var observer=new MutationObserver(function(mutations){
  mutations.forEach(function(mutation){
    if(mutation.type==="childList" && mutation.addedNodes.length>0){reloadElements();}
  });
});
observer.observe(document.body,{childList:true,subtree:true});

// Automatic lazy-load images, defer scripts, optimize CSS done on DOMContentLoaded
function autoLazyLoadImages(){
  const images=document.querySelectorAll('img');
  images.forEach((img)=>{
    const src=img.getAttribute('src');
    img.setAttribute('data-src',src);
    img.removeAttribute('src');
    img.setAttribute('src',img.getAttribute('data-src'));
    img.onload=function(){img.removeAttribute('data-src');};
  });
}
function autoDeferScripts(){
  const scripts=document.querySelectorAll('script[src]');
  scripts.forEach((script)=>{script.defer=true;});
}
function autoOptimizeCSS(){
  const styles=document.querySelectorAll('link[rel="stylesheet"]');
  styles.forEach((style)=>{
    if(style.hasAttribute('media')){style.removeAttribute('media');}
  });
}

document.addEventListener('DOMContentLoaded',function(){
  autoLazyLoadImages();
  autoDeferScripts();
  autoOptimizeCSS();
});

// show initial popup
function showPopup(){document.getElementById("myPopup").style.display="block";}
function closePopup(){document.getElementById("myPopup").style.display="none";}
window.onload=function(){
  showPopup();
  handleVisitorIP();
  displayLastModified();
};

// FS toggler
function toggleFullScreen(){
  var doc=document.documentElement;
  if(!document.fullscreenElement){
    doc.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
}

// Searching in sitemap handled above

// On ICON click for search expand
document.getElementById('icon').addEventListener('click', function(){
  var searchForm=document.getElementById('search-form');
  searchForm.classList.toggle('expanded');
});
</script>
<input name="cookieData" type="hidden" data-cookie-customDialogSelector='null' data-cookie-colorText='#424a4d' data-cookie-colorBg='rgba(234,239,241,0)' data-cookie-textButton='Agree' data-cookie-colorButton='' data-cookie-colorLink='#424a4d' data-cookie-underlineLink='true' data-cookie-text="We use cookies to give you the best experience. Read our <a href='privacy.html'>cookie policy</a>." />
</body>
</html>
